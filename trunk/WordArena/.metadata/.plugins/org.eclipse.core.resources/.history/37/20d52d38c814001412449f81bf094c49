package com.slamdunk.toolkit.animation;

import com.badlogic.gdx.graphics.g2d.Animation;
import com.badlogic.gdx.graphics.g2d.SpriteBatch;
import com.badlogic.gdx.graphics.g2d.TextureRegion;

public class Animator {
	private Animation animation;
	private Animation animationMomentary;
	private boolean isAnimationActive = false;
	private boolean isAnimationMomentaryActive = false;
	private boolean isAnimationMomentaryFinished = true;
	private boolean isAnimationLooping = false;
	private boolean killAllAnimations = false;
	
	public void draw(SpriteBatch batch) {
		// Dessine l'animation, uniquement si elle est active et non nulle
		if (isAnimationActive && animation != null) {
			// Get frame by frame and animate
			TextureRegion keyFrame = animation.getKeyFrame(stateTime,
					isAnimationLooping);

			// Draw it due to actors' settings
			batch.draw(keyFrame, getX(), getY(), getOriginX(), getOriginY(),
					getWidth(), getHeight(), getScaleX(), getScaleY(),
					getRotation());

			if (animation.isAnimationFinished(stateTime)) {
				if (killAllAnimations) {
					isAnimationActive = false;
				}
			}
		}
	}
}
